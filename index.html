<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Cesium Viewer</title>
  <script src="https://cesium.com/downloads/cesiumjs/releases/1.104/Build/Cesium/Cesium.js"></script>
  <link href="https://cesium.com/downloads/cesiumjs/releases/1.104/Build/Cesium/Widgets/widgets.css" rel="stylesheet">
  <style>
    #cesiumContainer {
      width: 100%;
      height: 100vh;
      margin: 0;
      padding: 0;
      overflow: hidden;
    }
  </style>
</head>
<body>
  <div id="cesiumContainer"></div>

  <script src="config.js"></script>

  <script>
    window.onload = function () {
      if (typeof Cesium !== 'undefined' && typeof CESIUM_TOKEN !== 'undefined') {
        Cesium.Ion.defaultAccessToken = CESIUM_TOKEN;

        const viewer = new Cesium.Viewer('cesiumContainer');

        // üåç Load terrain asynchronously
        Cesium.createWorldTerrainAsync().then(function (terrainProvider) {
          viewer.terrainProvider = terrainProvider;
        });

        // üó∫Ô∏è Load imagery asynchronously
        Cesium.IonImageryProvider.fromAssetId(2).then(function (imageryProvider) {
          viewer.imageryLayers.addImageryProvider(imageryProvider);
        });

        // üìç Fly to Saint John, NB
        viewer.camera.flyTo({
          destination: Cesium.Cartesian3.fromDegrees(-66.0656, 45.2733, 10000),
          orientation: {
            heading: Cesium.Math.toRadians(0.0),
            pitch: Cesium.Math.toRadians(-30.0),
            roll: 0.0
          }
        });

      } else {
        console.error('Cesium or CESIUM_TOKEN is not loaded. Check your script tags.');
      }
    };
  </script>
</body>
</html>
